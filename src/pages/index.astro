---
import Layout from '../layouts/Layout.astro';

// Accessibility quotes for each day with descriptive words
const accessibilityQuotes = [
  { word: "Fundamental", quote: "Accessibility is not a feature, it's a fundamental right." },
  { word: "Universal", quote: "The web was designed to work for all people, regardless of their hardware, software, language, culture, location, or physical or mental ability." },
  { word: "Inclusive", quote: "When we design for accessibility, we design for everyone." },
  { word: "Purposeful", quote: "Inclusive design creates better experiences for all users." },
  { word: "Essential", quote: "Accessibility is not about disability, it's about human rights." },
  { word: "Equal", quote: "Every user deserves equal access to information and functionality." },
  { word: "Innovative", quote: "Accessibility drives innovation and improves usability for everyone." },
  { word: "Required", quote: "Digital accessibility is not optional - it's essential." },
  { word: "Wise", quote: "Building accessible products makes business sense." },
  { word: "Removing", quote: "Accessibility is about removing barriers, not adding them." },
  { word: "Better", quote: "Inclusive design leads to better products and happier users." },
  { word: "Excellence", quote: "Accessibility compliance is just the minimum - aim higher." },
  { word: "Beneficial", quote: "Every accessibility improvement benefits all users." },
  { word: "Empathetic", quote: "Accessibility is about empathy and understanding." },
  { word: "Good", quote: "Inclusive design is good design." },
  { word: "Built-in", quote: "Accessibility should be built in, not bolted on." },
  { word: "Cost-effective", quote: "The cost of accessibility is far less than the cost of exclusion." },
  { word: "Mindful", quote: "Accessibility is not a checklist, it's a mindset." },
  { word: "Competitive", quote: "Inclusive design creates competitive advantages." },
  { word: "Opportunity", quote: "Accessibility is about creating equal opportunities." },
  { word: "Unique", quote: "Every user has unique needs - accessibility addresses them all." },
  { word: "Optimized", quote: "Accessibility improves SEO and user experience." },
  { word: "Future", quote: "Inclusive design is the future of digital products." },
  { word: "Dignified", quote: "Accessibility is about dignity and respect." },
  { word: "Perfect", quote: "The best products work for everyone, everywhere." }
];

// Determine how many days are open based on today's date in October
const getOpenDay = () => {
  const now = new Date();
  const isOctober = now.getMonth() === 9; // 0-indexed months; 9 = October
  if (!isOctober) return 0;
  return Math.min(now.getDate(), 25);
};
const openDay = getOpenDay();
const isDayUnlocked = (day: number) => day <= openDay;
---

<Layout title="25 Days of A11y - Accessibility Advent Calendar">
  <header class="hero">
    <span class="sparkle-right">âœ¨</span>
    <h1>ðŸŽ„ 25 Days of A11y ðŸŽ„</h1>
    <p class="subtitle">An Accessibility Advent Calendar</p>
    <p class="description">Discover why accessibility matters for everyone, one day at a time</p>
  </header>
  <section class="advent-calendar" aria-labelledby="calendar-heading">
    <div class="calendar-grid" role="list" aria-label="25 days of accessibility quotes">
      {accessibilityQuotes.map((item, index) => {
        const dayNumber = index + 1;
        const isUnlocked = isDayUnlocked(dayNumber);
        const quotePreview = item.quote.length > 50 ? item.quote.substring(0, 50) + '...' : item.quote;
        // All cards are red; add 'active' class for open days
        const isActive = isUnlocked;
        
        return (
          <div 
            class={`calendar-day diamond-card red ${isActive ? 'active' : 'locked'}`}
            role="listitem"
            tabindex={isUnlocked ? 0 : -1}
            aria-label={`Day ${dayNumber}: ${isUnlocked ? quotePreview : 'Locked'}`}
          >
            <div class="card-border">
              <div class="card-content">
                <div class="descriptive-word">{item.word}</div>
                <div class="large-number">
                  <span class="number-text">{dayNumber.toString().padStart(2, '0')}</span>
                  <div class="number-pattern"></div>
                </div>
                <div class="sub-phrase">When Accessibility Matters</div>
                {isUnlocked && (
                <a href={`/day-${dayNumber}`} class="day-link" aria-label={`Read accessibility quote for day ${dayNumber}`}>
                    <div class="quote-preview">{quotePreview}</div>
                  <span class="read-more">Read More â†’</span>
                </a>
                )}
                {!isUnlocked && (
                <div class="locked-content">
                    <div class="locked-text">ðŸ”’</div>
                </div>
              )}
              </div>
              <div class="decorative-elements">
                <div class="corner-flourish top-left"></div>
                <div class="corner-flourish top-right"></div>
                <div class="corner-flourish bottom-left"></div>
                <div class="corner-flourish bottom-right"></div>
                <div class="side-dots left"></div>
                <div class="side-dots right"></div>
                <div class="side-dots top"></div>
                <div class="side-dots bottom"></div>
              </div>
            </div>
          </div>
        );
      })}
    </div>
  </section>
</Layout>

<style>
  body {
    background-color: #16a34a;
    min-height: 100vh;
  }
  
  .hero {
    text-align: center;
    padding: 3rem 0;
    background: linear-gradient(135deg, #dc2626 0%, #16a34a 50%, #dc2626 100%);
    border-radius: 1rem;
    margin-bottom: 3rem;
    position: relative;
    overflow: hidden;
    border: 3px solid #fbbf24;
    box-shadow: 0 8px 32px rgba(0,0,0,0.2);
  }
  
  .hero::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
      radial-gradient(circle at 20% 20%, rgba(255,255,255,0.1) 0%, transparent 50%),
      radial-gradient(circle at 80% 80%, rgba(255,255,255,0.1) 0%, transparent 50%),
      radial-gradient(circle at 40% 60%, rgba(255,255,255,0.05) 0%, transparent 50%);
    pointer-events: none;
  }
  
  @media (prefers-color-scheme: dark) {
    .hero {
      background: linear-gradient(135deg, #b91c1c 0%, #15803d 50%, #b91c1c 100%);
      border-color: #f59e0b;
    }
  }
  
  
  .hero .sparkle-right {
    content: 'âœ¨';
    position: absolute;
    top: 1rem;
    right: 2rem;
    font-size: 2rem;
    z-index: 1;
  }
  
  h1 {
    color: white;
    margin-bottom: 0.5rem;
    font-size: 3rem;
    font-weight: bold;
    text-shadow: 3px 3px 6px rgba(0,0,0,0.5);
    position: relative;
    z-index: 2;
  }
  
  @media (max-width: 768px) {
    h1 {
      font-size: 2.5rem;
    }
  }
  
  @media (max-width: 480px) {
    h1 {
      font-size: 2rem;
    }
  }
  
  @media (prefers-color-scheme: dark) {
    h1 {
      color: #fef3c7;
      text-shadow: 3px 3px 6px rgba(0,0,0,0.7);
    }
  }
  
  .subtitle {
    color: #fef3c7;
    font-size: 1.5rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    position: relative;
    z-index: 2;
  }
  
  @media (max-width: 768px) {
    .subtitle {
      font-size: 1.25rem;
    }
  }
  
  @media (max-width: 480px) {
    .subtitle {
      font-size: 1rem;
    }
  }
  
  @media (prefers-color-scheme: dark) {
    .subtitle {
      color: #fbbf24;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
    }
  }
  
  .description {
    color: white;
    font-size: 1.1rem;
    max-width: 600px;
    margin: 0 auto;
    text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
    position: relative;
    z-index: 2;
  }
  
  @media (max-width: 768px) {
    .description {
      font-size: 1rem;
      padding: 0 1rem;
    }
  }
  
  @media (max-width: 480px) {
    .description {
      font-size: 0.9rem;
      padding: 0 0.5rem;
    }
  }
  
  @media (prefers-color-scheme: dark) {
    .description {
      color: #f3f4f6;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.7);
    }
  }
  
  .advent-calendar {
    margin: 3rem 0;
  }
  
  .calendar-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 2rem;
    margin-top: 2rem;
    padding: 2rem;
  }
  
  @media (max-width: 768px) {
    .calendar-grid {
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 1rem;
      padding: 1rem;
    }
  }
  
  @media (max-width: 480px) {
    .calendar-grid {
      grid-template-columns: repeat(2, 1fr);
      gap: 0.75rem;
      padding: 0.5rem;
    }
  }
  
  
  .diamond-card {
    width: 200px;
    height: 200px;
    position: relative;
    transition: all 0.3s ease;
  }
  
  @media (max-width: 768px) {
    .diamond-card {
      width: 150px;
      height: 150px;
      margin: 1rem auto;
    }
  }
  
  .diamond-card:hover {
    /* transform: scale(1.05);
    z-index: 10; */
  }
  
  .diamond-card:focus {
    outline: 3px solid #007bff;
    /* outline-offset: 2px; */
  }
  
  .card-border {
    width: 100%;
    height: 100%;
    position: relative;
    border: 3px solid;
    border-radius: 8px;
    overflow: hidden;
  }
  
  /* Base red card */
  .diamond-card.red .card-border {
    background: #dc2626;
    border-color: #991b1b;
  }
  
  /* Active/open day variant */
  .diamond-card.active .card-border {
    background: linear-gradient(135deg, #b91c1c 0%, #dc2626 60%, #f87171 100%);
    border-color: #f59e0b;
    box-shadow: 0 12px 24px rgba(220, 38, 38, 0.35);
  }
  
  .card-content {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    width: 140px;
    height: 140px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }
  
  @media (max-width: 768px) {
    .card-content {
      width: 100px;
      height: 100px;
    }
  }
  
  @media (max-width: 480px) and (min-width: 421px) {
    .diamond-card {
      width: 120px;
      height: 120px;
      margin: 0.5rem auto;
    }
    
    .card-content {
      width: 80px;
      height: 80px;
    }
  }
  
  @media (max-width: 420px) {
    .calendar-grid {
      grid-template-columns: 1fr;
      gap: 1rem;
      padding: 0.5rem;
    }
    
    .diamond-card {
      width: 280px;
      height: 280px;
      margin: 1rem auto;
    }
    
    .card-content {
      width: 200px;
      height: 200px;
    }
  }
  
  .descriptive-word {
    font-family: 'Times New Roman', serif;
    font-size: 12px;
    font-weight: 600;
    letter-spacing: 0.5px;
    margin-bottom: 8px;
    text-transform: uppercase;
  }
  
  @media (max-width: 768px) {
    .descriptive-word {
      font-size: 10px;
      margin-bottom: 6px;
    }
  }
  
  @media (max-width: 480px) {
    .descriptive-word {
      font-size: 8px;
      margin-bottom: 4px;
    }
  }
  
  .diamond-card .descriptive-word {
    color: white;
  }
  .diamond-card.active .descriptive-word {
    color: white;
  }
  
  .large-number {
    position: relative;
    }
  
  .number-text {
    font-family: 'Times New Roman', serif;
    font-size: 70px;
    font-weight: bold;
    line-height: normal;
    color: white;
    text-shadow: 2px 2px 0px;
    position: relative;
    z-index: 2;
  }
  
  @media (max-width: 768px) {
    .number-text {
      font-size: 24px;
    }
  }
  
  @media (max-width: 480px) {
    .number-text {
      font-size: 18px;
    }
  }
  
  .diamond-card .number-text {
    text-shadow: 2px 2px 0px #7f1d1d;
  }
  .diamond-card.active .number-text {
    text-shadow: 2px 2px 0px #b45309; /* golden outline */
  }
  
  .number-pattern {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: repeating-linear-gradient(
      45deg,
      transparent,
      transparent 2px,
      rgba(0,0,0,0.1) 2px,
      rgba(0,0,0,0.1) 4px
    );
    z-index: 1;
  }
  
  .sub-phrase {
    font-family: 'Times New Roman', serif;
    font-size: 12px;
    margin-top: 8px;
    line-height: 1.2;
  }
  
  @media (max-width: 768px) {
    .sub-phrase {
      font-size: 7px;
      margin-top: 6px;
    }
  }
  
  @media (max-width: 480px) {
    .sub-phrase {
      font-size: 6px;
      margin-top: 4px;
    }
  }
  
  .diamond-card .sub-phrase {
    color: white;
  }
  .diamond-card.active .sub-phrase {
    color: white;
  }
  
  .day-link {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-decoration: none;
    color: inherit;
    background: rgba(255, 255, 255, 0.9);
    opacity: 0;
    transition: opacity 0.3s ease;
  }
  
  .diamond-card:hover .day-link {
    opacity: 1;
  }
  
    .quote-preview {
    font-size: 10px;
    line-height: 1.3;
    margin-bottom: 8px;
    color: #333;
    text-align: center;
    padding: 0 8px;
  }
  
  .read-more {
    color: #007bff;
    font-weight: 600;
    font-size: 8px;
  }
  
  .locked-content {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    background: rgba(0, 0, 0, 0.3);
    z-index: 10;
  }
  
  .locked-text {
    font-size: 30px;
    margin-bottom: 4px;
  }
  
  .decorative-elements {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
  }
  
  .corner-flourish {
    position: absolute;
    width: 12px;
    height: 12px;
    border: 1px solid;
    border-radius: 50%;
  }
  
  .corner-flourish::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 6px;
    height: 6px;
    background: currentColor;
    border-radius: 50%;
  }
  
  .corner-flourish.top-left {
    top: 8px;
    left: 8px;
  }
  
  .corner-flourish.top-right {
    top: 8px;
    right: 8px;
  }
  
  .corner-flourish.bottom-left {
    bottom: 8px;
    left: 8px;
  }
  
  .corner-flourish.bottom-right {
    bottom: 8px;
    right: 8px;
  }
  
  .diamond-card .corner-flourish {
    color: #86efac;
  }
  .diamond-card.active .corner-flourish {
    color: #86efac;
  }
  
  .side-dots {
    position: absolute;
  }
  
  .side-dots::before,
  .side-dots::after {
    content: '';
    position: absolute;
    width: 3px;
    height: 3px;
    background: currentColor;
    border-radius: 50%;
  }
  
  .side-dots.left {
    left: 4px;
    top: 50%;
    transform: translateY(-50%);
  }
  
  .side-dots.left::before {
    top: -8px;
  }
  
  .side-dots.left::after {
    top: 8px;
  }
  
  .side-dots.right {
    right: 4px;
    top: 50%;
    transform: translateY(-50%);
  }
  
  .side-dots.right::before {
    top: -8px;
  }
  
  .side-dots.right::after {
    top: 8px;
  }
  
  .side-dots.top {
    top: 4px;
    left: 50%;
    transform: translateX(-50%);
  }
  
  .side-dots.top::before {
    left: -8px;
  }
  
  .side-dots.top::after {
    left: 8px;
  }
  
  .side-dots.bottom {
    bottom: 4px;
    left: 50%;
    transform: translateX(-50%);
  }
  
  .side-dots.bottom::before {
    left: -8px;
  }
  
  .side-dots.bottom::after {
    left: 8px;
  }
  
  .diamond-card .side-dots {
    color: #86efac;
  }
  .diamond-card.active .side-dots {
    color: #86efac;
  }
  
</style>
